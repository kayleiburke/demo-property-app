<!DOCTYPE html>
<html class="hide-sidebar top-navbar ls-bottom-footer-fixed">
  <head>
    <title>PropertyApp</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= javascript_include_tag "https://maps.google.com/maps/api/js?key=#{ENV['GOOGLE_MAPS_API_KEY']}", async: true %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload'%>
    <%= javascript_include_tag 'maps', 'data-turbolinks-track': 'reload', async: true%>
    <%= javascript_include_tag 'main', 'data-turbolinks-track': 'reload', async: true%>
    <%= javascript_include_tag 'googleMapsInitializer', 'data-turbolinks-track': 'reload', async: true%>

  </head>

  <body>

    <% unless flash.empty? %>
      <script type="text/javascript">
          <% flash.each do |f| %>
          <% type = f[0].to_s.gsub('alert', 'error').gsub('notice', 'info') %>
          toastr['<%= type %>']('<%= f[1] %>');
          <% end %>
      </script>
    <% end %>

    <!-- Wrapper required for sidebar transitions -->
    <div class="st-container">
      <%= yield %>

    </div>

  </body>
</html>
